<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>函数柯里化</title>
</head>
<body>
  <div id="test"></div>
  <script type="text/javascript" src="../js/react.development.js"></script>
  <script type="text/javascript" src="../js/react-dom.development.js"></script>
  <script type="text/javascript" src="../js/babel.min.js"></script>
  <script type="text/javascript" src="../js/prop-types.js"></script>

  <script type="text/babel">

    /*
      高阶函数：
        函数接收的参数是函数 / 返回值是函数
      
      函数柯里化：
        通过函数调用继续返回函数的方式
        实现多次接收参数最后统一处理的函数编码形式

    */

    function sum(a) {
      return b => {
        return c => {
          return a + b + c
        }
      }
    }

    sum(1)(3)(9)

    class Login extends React.Component {
      state = {
        userName: '',
        password: '',
        userName1: '',
        password1: '',
      }
      login = (event) => {
        event.preventDefault()
      }
      saveInfo = (dataKey) => {
        return event => {
          this.setState({ [dataKey]: event.target.value })
        }
      }
      saveData = (dataKey, event) => {
        this.setState({[dataKey]: event.target.value})
      }
      render () {
        return (
          <form onSubmit={this.login}>
              User: <input onChange={this.saveInfo('userName')} name="username"/><br/>
              Password: <input onChange={this.saveInfo('password')} type="password" name="password"/><br/>
              <button> 登录 </button><br/>
              {/*非柯里化实现*/}
              User: <input onChange={event => this.saveData('userName1', event)} name="username1"/><br/>
              Password: <input onChange={event => this.saveData('password1', event)} type="password" name="password1"/><br/>
          </form>
        )
      }
    }
    ReactDOM.render(<Login/>, document.getElementById('test'))
  </script>
</body>
</html>